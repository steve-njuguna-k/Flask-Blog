{% extends "Base.html" %}

<div class="container">
	{% include 'Navbar.html' %}
</div>


{% block content %}

<div class="container-fluid main-section">
	<div class="row">
		<div class="col-sm-3 left-pane">
			<div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
				<h4><b>Main Menu</b></h4>
				<a class="nav-link active" data-toggle="pill" href="#v-pills-home" role="tab">Home</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-profile" role="tab">About Us</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-settings" role="tab">Community Guidlines</a>
				<a class="nav-link" data-toggle="pill" href="#v-pills-settings" role="tab">Privacy Policy</a>
				<a class="nav-link" data-toggle="pill" href="#v-pills-settings" role="tab">Cookie Policy</a>
				<a class="nav-link" data-toggle="pill" href="#v-pills-settings" role="tab">Terms & Conditions</a>
				<br>
				<h4><b>Categories</b></h4>
				<a class="nav-link" data-toggle="pill" href="#v-pills-home" role="tab">Software Development</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-profile" role="tab">Career Talk</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-messages" role="tab">Cloud & DevOps</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-settings" role="tab">AI & Merchine Learning</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-payment" role="tab">Cryptocurrency</a>
				<a class="nav-link" data-toggle="pill" href="#v-pills-home" role="tab">Robotics</a> 
				<a class="nav-link" data-toggle="pill" href="#v-pills-profile" role="tab">Augmented & Virtual Reality</a>  
			</div>
		</div>
		<div class="col-sm-6 center-pane">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert alert-{{ category }} alert-dismissible fade show text-center" role="alert">
							<span>{{ message }}</span>
							<button type="button" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">&times;</span>
							</button>
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}
			<div class="tab-pills">
				<ul class="nav nav-pills">
					<li class="nav-item">
						<a class="nav-link active" data-toggle="pill" href="#relevant" role="tab" aria-controls="pills-relevant" aria-selected="true">Relevant</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-toggle="pill" href="#latest" role="tab" aria-controls="pills-latest" aria-selected="false">Latest</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-toggle="pill" href="#top" role="tab" aria-controls="pills-top" aria-selected="false">Top</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-toggle="pill" href="#sponsored" role="tab" aria-controls="pills-sponsored" aria-selected="false">Sponsored</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-toggle="pill" href="#all" role="tab" aria-controls="pills-all" aria-selected="false">All</a>
					</li>
				</ul>
				<div class="tab-content mt-3">
					<div class="tab-pane fade show active" id="relevant" role="tabpanel" aria-labelledby="relevant-tab">
						{% for post in posts %}
							<div class="card">
								<div class="card-body">
									<div class="d-flex flex-row user-info">
										<img class="rounded-circle" src="{{ post.user.image_file }}" height="50" width="50">
										<div class="d-flex flex-column justify-content-start ml-2">
											<a href="#">
												<span class="d-block font-weight-bold name">{{ post.user.first_name }} {{ post.user.last_name }}</span>
											</a>
											<span class="date text-black-50" style="font-size: 15px;"><i class="fas fa-calendar-alt"></i> {{ post.created_on.strftime('%d/%m/%Y') }}</span>
										</div>
									</div>
									<a href="/post/{{post.id}}">
										<h3 class="card-title"><b>{{ post.title }}</b></h3>
									</a>
									<p class="card-text text-muted">{{ post.description[:250]|safe + " ..." }}</p>
									<p class="card-text text-muted tags">
										{% for tag in post.tags %}
										<span class="badge badge-secondary">{{ tag.name }}</span>
										{% endfor %}
									</p>
									{% if current_user.id == post.id %}
									<a class="float-left" style="margin-right: 5px;" href="/post/{{post.id}}/edit">
										<button class="btn btn-outline-warning btn-sm"><i class="far fa-edit"></i> Edit</button>
									</a>
									<a href="#">
										<button class="btn btn-outline-danger btn-sm" data-toggle="modal" data-target="#exampleModal"><i class="far fa-trash"></i> Delete</button>
									</a>
									{% endif %}
									<a class="float-right" href="#">
									  <button class="btn btn-outline-primary btn-sm"><i class="far fa-comment-alt"></i> Comment</button>
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
					<div class="tab-pane fade" id="latest" role="tabpanel" aria-labelledby="profile-tab">
						{% for post in posts %}
							<div class="card">
								<div class="card-body">
									<div class="d-flex flex-row user-info">
										<img class="rounded-circle" src="{{ post.user.image_file }}" height="50" width="50">
										<div class="d-flex flex-column justify-content-start ml-2">
											<a href="#">
												<span class="d-block font-weight-bold name">{{ post.user.first_name }} {{ post.user.last_name }}</span>
											</a>
											<span class="date text-black-50" style="font-size: 15px;"><i class="fas fa-calendar-alt"></i> {{ post.created_on.strftime('%d/%m/%Y') }}</span>
										</div>
									</div>
									<a href="/post/{{post.id}}">
										<h3 class="card-title"><b>{{ post.title }}</b></h3>
									</a>
									<p class="card-text text-muted">{{ post.description[:250]|safe + " ..." }}</p>
									<p class="card-text text-muted tags">
										{% for tag in post.tags %}
										<span class="badge badge-secondary">{{ tag.name }}</span>
										{% endfor %}
									</p>
									{% if current_user.id == post.id %}
									<a class="float-left" style="margin-right: 5px;" href="/post/{{post.id}}/edit">
										<button class="btn btn-outline-warning btn-sm"><i class="far fa-edit"></i> Edit</button>
									</a>
									<a href="/post/{{post.id}}/delete">
										<button class="btn btn-outline-danger btn-sm"><i class="far fa-trash"></i> Delete</button>
									</a>
									{% endif %}
									<a class="float-right" href="#">
									  <button class="btn btn-outline-primary btn-sm"><i class="far fa-comment-alt"></i> Comment</button>
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
					<div class="tab-pane fade" id="top" role="tabpanel" aria-labelledby="top-tab">
						{% for post in posts %}
							<div class="card">
								<div class="card-body">
									<div class="d-flex flex-row user-info">
										<img class="rounded-circle" src="{{ post.user.image_file }}" height="50" width="50">
										<div class="d-flex flex-column justify-content-start ml-2">
											<a href="#">
												<span class="d-block font-weight-bold name">{{ post.user.first_name }} {{ post.user.last_name }}</span>
											</a>
											<span class="date text-black-50" style="font-size: 15px;"><i class="fas fa-calendar-alt"></i> {{ post.created_on.strftime('%d/%m/%Y') }}</span>
										</div>
									</div>
									<a href="/post/{{post.id}}">
										<h3 class="card-title"><b>{{ post.title }}</b></h3>
									</a>
									<p class="card-text text-muted">{{ post.description[:250]| safe + " ..."  }}</p>
									<p class="card-text text-muted tags">
										{% for tag in post.tags %}
										<span class="badge badge-secondary">{{ tag.name }}</span>
										{% endfor %}
									</p>
									{% if current_user.id == post.id %}
									<a class="float-left" style="margin-right: 5px;" href="/post/{{post.id}}/edit">
										<button class="btn btn-outline-warning btn-sm"><i class="far fa-edit"></i> Edit</button>
									</a>
									<a href="/post/{{post.id}}/delete">
										<button class="btn btn-outline-danger btn-sm"><i class="far fa-trash"></i> Delete</button>
									</a>
									{% endif %}
									<a class="float-right" href="#">
									  <button class="btn btn-outline-primary btn-sm"><i class="far fa-comment-alt"></i> Comment</button>
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
					<div class="tab-pane fade" id="sponsored" role="tabpanel" aria-labelledby="sponsored-tab">
						{% for post in posts %}
							<div class="card">
								<div class="card-body">
									<div class="d-flex flex-row user-info">
										<img class="rounded-circle" src="{{ post.user.image_file }}" height="50" width="50">
										<div class="d-flex flex-column justify-content-start ml-2">
											<a href="#">
												<span class="d-block font-weight-bold name">{{ post.user.first_name }} {{ post.user.last_name }}</span>
											</a>
											<span class="date text-black-50" style="font-size: 15px;"><i class="fas fa-calendar-alt"></i> {{ post.created_on.strftime('%d/%m/%Y') }}</span>
										</div>
									</div>
									<a href="/post/{{post.id}}">
										<h3 class="card-title"><b>{{ post.title }}</b></h3>
									</a>
									<p class="card-text text-muted">{{ post.description[:250]| safe + " ..." }}</p>
									<p class="card-text text-muted tags">
										{% for tag in post.tags %}
										<span class="badge badge-secondary">{{ tag.name }}</span>
										{% endfor %}
									</p>
									{% if current_user.id == post.id %}
									<a class="float-left" style="margin-right: 5px;" href="/post/{{post.id}}/edit">
										<button class="btn btn-outline-warning btn-sm"><i class="far fa-edit"></i> Edit</button>
									</a>
									<a href="/post/{{post.id}}/delete">
										<button class="btn btn-outline-danger btn-sm"><i class="far fa-trash"></i> Delete</button>
									</a>
									{% endif %}
									<a class="float-right" href="#">
									  <button class="btn btn-outline-primary btn-sm"><i class="far fa-comment-alt"></i> Comment</button>
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
					<div class="tab-pane fade" id="all" role="tabpanel" aria-labelledby="all-tab">
						{% for post in posts %}
							<div class="card">
								<div class="card-body">
									<div class="d-flex flex-row user-info">
										<img class="rounded-circle" src="{{ post.user.image_file }}" height="50" width="50">
										<div class="d-flex flex-column justify-content-start ml-2">
											<a href="#">
												<span class="d-block font-weight-bold name">{{ post.user.first_name }} {{ post.user.last_name }}</span>
											</a>
											<span class="date text-black-50" style="font-size: 15px;"><i class="fas fa-calendar-alt"></i> {{ post.created_on.strftime('%d/%m/%Y') }}</span>
										</div>
									</div>
									<a href="/post/{{post.id}}">
										<h3 class="card-title"><b>{{ post.title }}</b></h3>
									</a>
									<p class="card-text text-muted">{{ post.description[:250]| safe + " ..." }}</p>
									<p class="card-text text-muted tags">
										{% for tag in post.tags %}
										<span class="badge badge-secondary">{{ tag.name }}</span>
										{% endfor %}
									</p>
									{% if current_user.id == post.id %}
									<a class="float-left" style="margin-right: 5px;" href="/post/{{post.id}}/edit">
										<button class="btn btn-outline-warning btn-sm"><i class="far fa-edit"></i> Edit</button>
									</a>
									<a href="/post/{{post.id}}/delete">
										<button class="btn btn-outline-danger btn-sm"><i class="far fa-trash"></i> Delete</button>
									</a>
									{% endif %}
									<a class="float-right" href="#">
									  <button class="btn btn-outline-primary btn-sm"><i class="far fa-comment-alt"></i> Comment</button>
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>        
			</div>
			{% block footer %}
				<div class="container">
					<div id="footer">
						<p class="text-center">© 2022 Steve Njuguna</p>
					</div>
				</div>
			{% endblock %}
		</div>
		<div class="col-sm-3 right-pane">
			<h4><b>Tech News</b></h4>
			<div class="card">
				<div class="card-body">
				  <h5 class="card-title"><b>Special title treatment</b></h5>
				  <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
				  <a href="#" class="btn btn-primary btn-sm">Go somewhere</a>
				</div>
			</div>
			<br>
			<h4><b>Tech News</b></h4>
			<div class="card">
				<ul class="list-group pull-left">
					<li class="list-group-item">
					  <h5>Jen &nbsp; &nbsp;<span class="badge pull-right">100%</span></h5>
					</li>
					<li class="list-group-item">
					  <h5>Dezi &nbsp; &nbsp;<span class="badge pull-right">100%</span></h5>
					</li>
					<li class="list-group-item">
					  <h5>Eli &nbsp; &nbsp;<span class="badge pull-right">100%</span></h5>
					</li>
					<li class="list-group-item">
					  <h5>Mojo &nbsp; &nbsp;<span class="badge pull-right">83%</span></h5>
					</li>
					<li class="list-group-item">
					  <h5>Myself &nbsp; &nbsp;<span class="badge pull-right">100%</span></h5>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" data-backdrop="static" data-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title text-danger" id="exampleModalLabel">Delete Blog Post</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				</div>
			<div class="modal-body">
				<p>Are you you want to delete this post? <span class="text-danger">(This can't be undone)</span></p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-danger btn-sm"><i class="far fa-trash"></i> Delete</button>
			</div>
		</div>
	</div>
  </div>

{% endblock %}